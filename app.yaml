runtime: python37
# env: flex
# runtime_config:
#   python_version: 3

env_variables:
  PROJECT_NAME: $GOOGLE_CLOUD_PROJECT
  APP_CONFIG: 'gunicorn.conf.py'
  APP_MODULE: 'app:application'
  FLASK_DEBUG: 'false'
  FLASK_SECRET: 'secret'
  FLASK_SETTINGS: 'settings.py'
  GRAV_USER: 'rchapman83@gmail.com'
  TIMBER_TOKEN: '123'
  TIMBER_ID: '456'
  GIT_REPO: 'rchapman83/personal-web'
  GIT_TOKEN: '1243'
  
entrypoint: gunicorn -c $APP_CONFIG -b :$PORT $APP_MODULE

# This sample incurs costs to run on the App Engine flexible environment.
# The settings below are to reduce costs during testing and are not appropriate
# for production use. 
# manual_scaling:
#   instances: 1
# resources:
#   cpu: 1
#   memory_gb: 0.5
#  disk_size_gb: 10

handlers:
  # This configures Google App Engine to serve the files in the app's static
  # directory.
- url: /app/static
  static_dir: static

  # This handler routes all requests not caught above to your main app. It is
  # required when static routes are defined, but can be omitted (along with
  # the entire handlers section) when there are no static files defined.
- url: /.*
  script: auto